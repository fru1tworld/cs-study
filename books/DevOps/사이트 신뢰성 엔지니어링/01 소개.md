# 개요

안녕하세요.

추석 기간 동안 책 하나를 붙잡고 완독을 목표로 달리고 있습니다.

여러가지 책 중에서 마음에 든 책이 **사이트 신뢰성 엔지니어링**인데요.

이 책을 읽고 내용을 정리하고 그 내용을 설명하듯이 블로그에 포스팅해보도록 하겠습니다.

## 1장 소개

### 서비스의 안정성과 변화 수용

개발팀과 운영팀의 입장은 서로 상반되어 이 둘의 입장을 포용하는 역할이 되는 직종을 **DevOps**라고 하는데요.

개발팀은 새로운 기능을 향상 개발하고 싶어하고, 운영팀은 보수적으로 서비스가 안정적으로 운영되길 바랍니다.

그래서 **SRE**는 중간점을 찾아서 신뢰성 목표를 100%로 설정하지 않고 일정 에러를 허용하는 방식으로 에러 예산이라는 개념을 도입했습니다.

예를 들어서 신뢰성 목표를 100%로 설정하는 것과 **99.9999%의 차이**는 사실상 없다고 볼 수 있습니다.

일단 소프트웨어를 잘 만들었다하더라도 외부에 의존적인 경우 **각 의부 컴포넌트의 신뢰성**이 100%이지 않습니다.

사용하는 디바이스의 신뢰성, 네트워크의 신뢰성 등 다양한 요소로 인해 100%의 목표를 달성하는 것은 거의 불가능합니다.

그렇다면 99.99%와 같은 지표를 목표로 잡았다면 **0.01%**가 여기서 이야기하는 **에러 예산**에 해당합니다.

그러면 개발팀은 이 에러 예산 내에서 자유롭게 새로운 기능 출시를 위한 리스크를 감당할 수 있게 됩니다.

## 모니터링

모니터링은 시스템의 상태와 가용성을 점검하는 것을 의미하는데요.

중요한 개념은 다음과 같습니다.

**알람:** 어떤 문제가 발생했거나 발생하고 할 때 상황을 개선하기 위해 사람이 즉각적으로 어떤 대응을 취해야 하는 것을 알림

**티켓:** 사람의 대응은 필요하지만 즉각적으로 필요하지않고 시스템이 자동으로 처리할 수 없지만 사람이 며칠 내로 대응하면 문제 없는 경우

**로징:** 이후 분석 혹은 조사를 위해 기록되는 내용을 의미합니다.

## 프로비저닝

프로비저닝은 변화 관리와 수용 계획을 함한 개념이라고 합니다.

변화 관리는 앞서 언급한 모니터링 등에 해당하고 수용 계획은 에러 예산과 관련된 내용입니다.

그래서 결국 프로비저닝은 무엇을 의미하는 것일까요 ?

위키피디아에서는 사용자의 요구에 맞춰 필요한 IT 자원을 준비하고 할당하여 사용 가능한 상태로 만드는 과정이라고 하는데요.

## 2장 SRE 관점에서 바라본 구글의 프로덕션 환경

### 하드웨어

구글의 데이터센터는 일반적인 데이터센터나 소규모 서버 팜과는 근본적으로 다른 접근 방식을 취합니다.

**머신(Machine)**

- 물리적 하드웨어 또는 가상 머신(VM)을 의미합니다
- 특정 서비스에 종속되지 않고 유연하게 활용됩니다

**서버(Server)**

- 머신 위에서 실행되는 소프트웨어 조각을 의미합니다
- 하나의 머신에 여러 서버가 동작할 수 있습니다

### 시스템 소프트웨어로 하드웨어 관리하기

**보그(Borg) - 클러스터 운영 시스템**

- 수천 대의 머신을 하나의 클러스터로 관리합니다
- 자원 할당과 작업 스케줄링을 자동으로 처리합니다
- 개발자는 "어느 머신에서 실행할지"를 고민하지 않고 "어떤 자원이 필요한지"만 선언하면 됩니다

**스토리지 계층**

- D (디스크): 로컬 디스크 스토리지
- Colossus: 구글의 차세대 분산 파일 시스템 (GFS의 후속)
- 데이터의 중요도와 접근 패턴에 따라 적절한 스토리지 계층을 선택합니다

**네트워킹**

- 글로벌 스케일의 네트워크 인프라
- 지연 시간 최소화를 위한 전략적 배치
- 대역폭 관리와 우선순위 설정

### 기타 시스템 소프트웨어

**네이밍과 서비스 디스커버리**

- BNS(Borg Naming Service): 서비스 인스턴스를 찾을 수 있게 해주는 이름 서비스
- 동적으로 변하는 서비스 위치를 추상화합니다

**모니터링과 알림**

- Borgmon: 모니터링 시스템으로 메트릭 수집 및 알림 생성
- 시계열 데이터 저장 및 쿼리 기능 제공

### 소프트웨어 인프라스트럭처

**RPC 인프라**

- Stubby: 구글 내부의 RPC(원격 프로시저 호출) 프레임워크
- 서비스 간 통신을 표준화하고 단순화합니다
- 프로토콜 버퍼를 사용한 데이터 직렬화

**데이터 처리 파이프라인**

- MapReduce, Flume, MillWheel 등을 활용한 대규모 데이터 처리
- 배치 처리와 스트리밍 처리 모두 지원

### 개발 환경

**코드 저장소**

- 단일 소스 코드 저장소 사용
- 모든 엔지니어가 동일한 코드베이스에 접근 가능

**빌드와 배포**

- 자동화된 빌드 시스템
- 카나리 배포, 점진적 롤아웃 등 안전한 배포 전략 활용

---
