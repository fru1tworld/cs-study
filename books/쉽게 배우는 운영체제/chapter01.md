# 3운영체제의 개요

## 3.1 커널과 인터페이스

운영체제는 **커널**과 **인터페이스**로 구분

커널은 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심 기능을 구현한 프로그램

인터페이스는 사용자와 응용 프로그램에 인접하여 커널에 명령을 전달하고 실행 결가를 사용자와 응용 프로그램에 돌려준다.

운영체제는 유닉스 계열 커널과 윈도우 계열 커널로 나뉨

## 3.2 시스템 호출과 디바이스 드라이버

커널 내부는 시스템 호출과 드라이버가 있다.
시스템 호출은 커널이 자신을 보호하기 위해 만든 인터페이스

커널은 컴퓨터 자원 보호를 위해 직접 접근을 차단.

따라서 자원 이용은 시스템 호출이라는 인터페이스로 접근

응용 프로그램 입장에서 시스템 호출을 살펴보자.

**직접 접근**: 두 응용 프로그램이 직접 데이터를 저장한다 이 경우 다른 프로그램이 저장한 데이터를 지울 수도 있고 내 데이터가 다른 프로그램에 의해 지워질 수 있음

**시스템 호출을 통한 접근**: write함수 혹은 read함수라는 시스템 호출을 이용해서 데이터를 가져오거나 저장함 printf도 시스템 호출

시스템 호출과 유사한 용어로 응용 프로그램 인터페이스(API)와 시스템 개발자용 키트(SDK)가 있다.

**디바이스 드라이버**

커널과 하드웨어 인터페이스를 디바이스 드라이버또는 드라이버라고 부른다.

표준 외의 기능을 수행하는 경우 디바이스 드라이버를 따로 준비해야 한다.
이 경우 디바이스 드라이버 소프트웨어를 사용자가 설치해야 주변장치를 온전히 활용할 수 있다.
대표적인 예시는 그래픽 카드와 프린터가 있다.

## 3.3 커널의 역할과 종류

커널의 가장 중요한 작업은 여러 응용 프로그램을 실행하는 것

| 핵심 기능             | 설명                                                               |
| --------------------- | ------------------------------------------------------------------ |
| 프로세스 관리         | 프로세스에 CPU를 배분하고 작업에 필요한 제반 환경을 제공           |
| 메모리 관리           | 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상공간을 제공 |
| 파일 시스템 관리      | 데이터를 저장하고 접근할 수 있는 인터페이스를 제공                 |
| 입출력 관리           | 필요한 입력과 출력 서비스를 제공                                   |
| 프로세스 간 통신 관리 | 공동 작업을 위한 각 프로세스 간 통신 환경을 지원                   |

### 단일형 구조 커널

단일형 구조의 장점 모듈 분리가 거의 안되어있어서 모듈 간의 통신 비용이 없음

단점 모든 모듈이 하나여서 버그나 오류 처리가 어렵고 상호 의존성이 높아 작은 결함이 시스템 전체로 확산 가능

현대 운영체제는 크고 복잡해 구현하기 어려움

### 계층형 구조 커널

단일형 구조의 발전형태 비슷한 기능을 가진 모듈을 묶어 계층형으로 만들고 계층 간 통신을 통해 운영체제 구현

현대의 대부분이 이 구조

### 마이크로 구조 커널

마이크로 구조 커널은 기본적인 기능만 제공
프로세스 관리, 메모리 관리. 프로세스 간 통신 관리등 가장 기본적인 것만 제공

이러한 구조의 마하는 OS X와 iOS의 커널로 사용되어 유명해짐

### 가상 머신

자바는 VM을 만들고 그 위에서 응용 프로그램이 작동하게 한다.
이를 JVM이라 한다.

이 개념은 다양하게 사용됨
