# chapter32 - String

## 32.1 String 생성자 함수

```javascript
const strObj = new String();
console.log(strObj); // String {length: 0, [[PrimitiveValue]]: ""}

const strObj = new String("Lee");
console.log(strObj);
// String {0: "L", 1: "e", 2: "e", length: 3, [[PrimitiveValue]]: "Lee"}

// 문자열은 원시 값이므로 변경할 수 없다. 이때 에러가 발생하지 않는다.
strObj[0] = "S";
console.log(strObj); // 'Lee'
```

## 32.2 length 프로퍼티

```javascript
"Hello".length; // 5
"안녕하세요!".length; // 6
```

## 32.3 String 메서드

String 객체에는 원본 String 래퍼 객체를 직접 변경하는 메서드는 존재하지 않는다. String 객체의 메서드는 언제나 새로운 문자열을 반환한다.

### String.prototype.indexOf

```javascript
const str = "Hello World";

str.indexOf("l"); // 2
str.indexOf("or"); // 7
str.indexOf("x"); // -1

// 두 번째 인수로 검색을 시작할 인덱스를 전달할 수 있다.
str.indexOf("l", 3); // 3
```

### String.prototype.search

```javascript
const str = "Hello world";

str.search(/o/); // 4
str.search(/x/); // -1
```

### String.prototype.includes (ES6)

```javascript
const str = "Hello world";

str.includes("Hello"); // true
str.includes(""); // true
str.includes("x"); // false
str.includes(); // false

// 두 번째 인수로 검색을 시작할 인덱스를 전달할 수 있다.
str.includes("l", 3); // true
str.includes("H", 3); // false
```

### String.prototype.startsWith (ES6)

```javascript
const str = "Hello world";

// 문자열 str이 'He'로 시작하는지 확인
str.startsWith("He"); // true
str.startsWith("x"); // false

// 두 번째 인수로 검색을 시작할 인덱스를 전달할 수 있다.
str.startsWith(" ", 5); // true
```

### String.prototype.endsWith (ES6)

```javascript
const str = "Hello world";

// 문자열 str이 'ld'로 끝나는지 확인
str.endsWith("ld"); // true
str.endsWith("x"); // false

// 두 번째 인수로 검색할 문자열의 길이를 전달할 수 있다.
str.endsWith("lo", 5); // true
```

### String.prototype.charAt

```javascript
const str = "Hello";

for (let i = 0; i < str.length; i++) {
  console.log(str.charAt(i)); // H e l l o
}

// 인덱스가 문자열의 범위를 벗어난 경우 빈 문자열을 반환한다.
str.charAt(5); // ''
```

### String.prototype.substring

```javascript
const str = "Hello World";

// 인덱스 1부터 인덱스 4 이전까지의 부분 문자열을 반환한다.
str.substring(1, 4); // ell

// 인덱스 1부터 마지막 문자까지 부분 문자열을 반환한다.
str.substring(1); // 'ello World'

// 첫 번째 인수 > 두 번째 인수인 경우 두 인수는 교환된다.
str.substring(4, 1); // 'ell'

// 인수 < 0 또는 NaN인 경우 0으로 취급된다.
str.substring(-2); // 'Hello World'

// 인수 > 문자열의 길이인 경우 인수는 문자열의 길이로 취급된다.
str.substring(1, 100); // 'ello World'
str.substring(20); // ''
```

### String.prototype.slice

```javascript
const str = "hello world";

// substring과 slice 메서드는 동일하게 동작한다.
str.substring(0, 5); // 'hello'
str.slice(0, 5); // 'hello'

// 인덱스가 2인 문자부터 마지막 문자까지 잘라내어 반환
str.substring(2); // 'llo world'
str.slice(2); // 'llo world'

// 인수 < 0 또는 NaN인 경우 slice 메서드는 대상 문자열의 가장 뒤에서부터 시작하여 문자열을 잘라내어 반환한다.
str.substring(-5); // 'hello world'
str.slice(-5); // 'world'
```

### String.prototype.toUpperCase

```javascript
const str = "Hello World!";

str.toUpperCase(); // 'HELLO WORLD!'
```

### String.prototype.toLowerCase

```javascript
const str = "Hello World!";

str.toLowerCase(); // 'hello world!'
```

### String.prototype.trim

```javascript
const str = "   foo  ";

str.trim(); // 'foo'
```

### String.prototype.repeat (ES6)

```javascript
const str = "abc";

str.repeat(); // ''
str.repeat(0); // ''
str.repeat(1); // 'abc'
str.repeat(2); // 'abcabc'
str.repeat(2.5); // 'abcabc' (2.5 → 2)
str.repeat(-1); // RangeError: Invalid count value
```

### String.prototype.replace

```javascript
const str = "Hello world";

// str에서 첫 번째 인수 'world'를 검색하여 두 번째 인수 'Lee'로 치환한다.
str.replace("world", "Lee"); // 'Hello Lee'

// 특수한 교체 패턴을 사용할 수 있다.
const str = "Hello world";

// $&는 검색된 문자열을 의미한다.
str.replace("world", "<strong>$&</strong>"); // 'Hello <strong>world</strong>'

// 두 번째 인수로 치환 함수를 전달할 수 있다.
const camelCase = "helloWorld";

// /.[A-Z]/g는 카멜 케이스를 스네이크 케이스로 변환하는 정규표현식이다.
camelCase.replace(/.[A-Z]/g, (match) => {
  console.log(match); // 'oW'
  return match[0] + "_" + match[1].toLowerCase();
}); // 'hello_world'
```

### String.prototype.split

```javascript
const str = "How are you doing?";

// 공백으로 구분(단어로 구분)하여 배열로 반환한다.
str.split(" "); // ["How", "are", "you", "doing?"]

// 인수로 빈 문자열을 전달하면 각 문자를 모두 분리한다.
str.split(""); // ["H", "o", "w", " ", "a", "r", "e", " ", "y", "o", "u", " ", "d", "o", "i", "n", "g", "?"]

// 인수를 생략하면 대상 문자열 전체를 단일 요소로 하는 배열을 반환한다.
str.split(); // ["How are you doing?"]

// 두 번째 인수로 배열의 길이를 지정할 수 있다.
str.split(" ", 3); // ["How", "are", "you"]
```
