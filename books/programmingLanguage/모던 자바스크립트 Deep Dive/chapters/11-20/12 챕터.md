# chapter12 - 함수

## 12.1 함수란?

함수는 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.

```javascript
// 함수 정의
function add(x, y) {
  // x, y는 매개변수(parameter)
  return x + y; // 반환값(return value)
}

// 함수 호출
const result = add(2, 5); // 2, 5는 인수(argument)
console.log(result); // 7
```

## 12.2 함수를 사용하는 이유

1. **코드의 재사용**: 같은 코드를 여러 번 작성하지 않음
2. **유지보수의 편의성**: 한 곳만 수정하면 됨
3. **코드의 신뢰성**: 검증된 함수 재사용
4. **코드의 가독성**: 함수명으로 역할 파악 가능

```javascript
// 코드 재사용
function getArea(radius) {
  return Math.PI * radius * radius;
}

console.log(getArea(5));
console.log(getArea(10));
```

## 12.3 함수 리터럴

함수는 객체이지만 일반 객체와는 다르다. **일반 객체는 호출할 수 없지만 함수는 호출할 수 있다.**

```javascript
// 함수 리터럴
const f = function add(x, y) {
  return x + y;
};
```

## 12.4 함수 정의

### 함수 선언문

```javascript
function add(x, y) {
  return x + y;
}
```

### 함수 표현식

```javascript
const add = function (x, y) {
  return x + y;
};
```

### Function 생성자 함수

```javascript
const add = new Function("x", "y", "return x + y");
```

### 화살표 함수 (ES6)

```javascript
const add = (x, y) => x + y;
```

## 12.5 함수 호이스팅

### 함수 선언문: 호이스팅 O

```javascript
console.log(add(2, 5)); // 7

function add(x, y) {
  return x + y;
}
```

### 함수 표현식: 호이스팅 X

```javascript
console.log(add(2, 5)); // TypeError: add is not a function

var add = function (x, y) {
  return x + y;
};
```

## 12.6 함수 호출

### 매개변수와 인수

```javascript
function add(x, y) {
  console.log(x, y); // 2, 5
  return x + y;
}

add(2, 5);
```

### 인수 확인

```javascript
function add(x, y) {
  if (typeof x !== "number" || typeof y !== "number") {
    throw new TypeError("인수는 모두 숫자여야 합니다.");
  }
  return x + y;
}

// 기본값 설정 (ES6)
function add(x = 0, y = 0) {
  return x + y;
}
```

### 매개변수의 최대 개수

이상적인 매개변수 개수는 **0개**이며, 적을수록 좋다. 최대 **3개 이하**를 권장한다.

```javascript
// 나쁜 예
function createUser(name, age, address, phone, email) {}

// 좋은 예
function createUser(userInfo) {
  const { name, age, address, phone, email } = userInfo;
}
```

### 반환문

```javascript
function multiply(x, y) {
  return x * y;
  // 반환문 이후는 실행되지 않음
  console.log("실행 안됨");
}

// 반환값이 없으면 undefined 반환
function foo() {
  return;
}
console.log(foo()); // undefined
```

## 12.7 참조에 의한 전달과 외부 상태의 변경

```javascript
// 원시 값: 값에 의한 전달
function changeVal(primitive) {
  primitive += 100;
}

let num = 100;
changeVal(num);
console.log(num); // 100 (변경 안됨)

// 객체: 참조에 의한 전달
function changeObj(obj) {
  obj.name = "Kim";
}

let person = { name: "Lee" };
changeObj(person);
console.log(person.name); // 'Kim' (변경됨!)
```

### 순수 함수와 비순수 함수

```javascript
// 순수 함수: 외부 상태를 변경하지 않음
function increase(n) {
  return ++n;
}

let num = 0;
num = increase(num);
console.log(num); // 1

// 비순수 함수: 외부 상태를 변경함
let num2 = 0;
function increase2() {
  return ++num2; // 외부 변수 직접 변경
}

increase2();
console.log(num2); // 1
```

## 12.8 다양한 함수의 형태

### 즉시 실행 함수 (IIFE)

```javascript
(function () {
  let a = 3;
  let b = 5;
  return a + b;
})(); // 8
```

### 재귀 함수

```javascript
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
}

console.log(factorial(5)); // 120
```

### 중첩 함수

```javascript
function outer() {
  let x = 1;

  function inner() {
    let y = 2;
    console.log(x + y); // 3
  }

  inner();
}

outer();
```

### 콜백 함수

```javascript
function repeat(n, f) {
  for (let i = 0; i < n; i++) {
    f(i);
  }
}

repeat(5, function (i) {
  console.log(i);
});
```
