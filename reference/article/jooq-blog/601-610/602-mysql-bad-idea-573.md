# MySQL 나쁜 아이디어 #573

> 원문: https://blog.jooq.org/mysql-bad-idea-573/

SQL은 백슬래시를 이스케이프하지 않습니다. 초기 SQL 표준에 따르면 문자열 리터럴 내에서 유일한 이스케이프 문자는 따옴표를 두 번 쓰는 것(`''`)입니다.

SQL-1992 표준에서 이에 대해 다음과 같이 명시하고 있습니다:

```
<character representation> ::=
      <nonquote character>
    | <quote symbol>

<quote symbol> ::= <quote><quote>
```

이것이 문자열 리터럴 내에서 작은따옴표를 이스케이프하는 유일한 방법입니다. 예를 들어:

```sql
SELECT 'It''s a string with a quote'
```

그러나 MySQL은 다른 데이터베이스와 달리 Java나 다른 프로그래밍 언어와 유사하게 문자열 리터럴에서 백슬래시 이스케이프를 지원합니다. 이 기능 자체는 본질적으로 문제가 되지 않지만, 여러 벤더 간의 호환성 문제를 야기합니다.

더 심각한 문제는 MySQL이 `NO_BACKSLASH_ESCAPES`라는 SQL 모드 플래그를 포함하고 있어서 이 비표준 동작을 비활성화할 수 있다는 것입니다. 이로 인해 구성 관리의 악몽이 발생합니다. 개발자들은 백슬래시 이스케이프가 활성화되어 있는지 비활성화되어 있는지를 추적해야 합니다.

이 상황은 PHP의 끔찍한 "magic quotes" 기능을 떠올리게 합니다. 임의의 MySQL과 PHP 구성이 프로덕션 서버에서 결합되면, 올바른 문자열 리터럴 처리를 달성하는 것이 예측 불가능하고 오류가 발생하기 쉬워집니다.

핵심적인 문제는 MySQL이 확립된 SQL 표준과 모순되는 기능을 도입한 다음, 관리자가 구성 플래그를 통해 이를 옵트아웃하도록 요구한다는 것입니다. 이는 합리적인 기본값 접근 방식과는 정반대입니다.

이러한 구성에 의존하는 버그를 방지하려면 SQL 표준을 준수하는 것이 좋습니다.
