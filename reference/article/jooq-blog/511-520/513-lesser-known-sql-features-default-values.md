# 잘 알려지지 않은 SQL 기능: DEFAULT VALUES

> 원문: https://blog.jooq.org/lesser-known-sql-features-default-values/

게시일: 2014년 1월 8일, Lukas Eder 작성

## 개요

SQL의 `DEFAULT` 키워드를 사용하면 개발자가 `INSERT` 및 `UPDATE` 문에서 값을 명시적으로 지정하는 대신 컬럼의 기본값을 사용할 수 있습니다.

## 예제 테이블

```sql
CREATE TABLE timestamps (
  id INTEGER   GENERATED BY DEFAULT
               AS IDENTITY(START WITH 1),
  t  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  CONSTRAINT pk_values PRIMARY KEY (id)
)
```

## INSERT 문 옵션

레코드를 삽입하는 세 가지 방법이 있습니다:

명시적 타임스탬프:
```sql
INSERT INTO timestamps (t)
  VALUES (CURRENT_TIMESTAMP);
```

기본값을 사용하는 간단한 구문:
```sql
INSERT INTO timestamps DEFAULT VALUES;
```

명시적 기본값 지정:
```sql
INSERT INTO timestamps (t)
  VALUES (DEFAULT);
INSERT INTO timestamps (id, t)
  VALUES (DEFAULT, DEFAULT);
```

## UPDATE 문에서의 사용

```sql
UPDATE timestamps SET t = DEFAULT;
```

이 구문은 모든 타임스탬프를 `CURRENT_TIMESTAMP`로 설정합니다.

## 데이터베이스 호환성

표준 준수: CUBRID, Firebird, H2, HSQLDB, Ingres, PostgreSQL, SQLite, SQL Server, Sybase SQL Anywhere

부분 지원 (DEFAULT 키워드는 지원하지만 DEFAULT VALUES 절은 지원하지 않음): Access, DB2, Derby, MariaDB, MySQL, Oracle

## jOOQ 3.3 지원

jOOQ 3.3에는 데이터베이스에 투명하게 처리되는 네이티브 지원이 포함되어 있습니다:

```java
DSL.using(configuration)
   .insertInto(TIMESTAMPS)
   .defaultValues()
   .returning(TIMESTAMPS.ID, TIMESTAMPS.T)
   .fetch();
```

이 코드는 기본값으로 레코드를 삽입하고 생성된 값을 반환합니다. 네이티브 구문 또는 JDBC의 `Statement.getGeneratedKeys()`를 통해 여러 데이터베이스에서 투명하게 작동합니다.
