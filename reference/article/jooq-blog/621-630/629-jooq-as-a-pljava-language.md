# jOOQ를 "PL/Java" 언어로 사용하기

> 원문: https://blog.jooq.org/jooq-as-a-pljava-language/

PL/SQL, PL/pgSQL, T-SQL 등과 같은 절차적 SQL 확장 언어들을 처음 접하는 개발자들은 이러한 언어들이 Java API에서 SQL을 다루는 방식과 어떻게 다른지 곧 알게 됩니다. Java에서 SQL은 대부분 외부 도메인 특화 언어로 취급되며, 문자열 연결 방식으로 처리됩니다. 이러한 접근 방식의 예로는 다음이 있습니다:

- JDBC
- MyBatis (구 iBatis)
- Hibernate의 HQL
- JPA의 JPQL

반면, 일부 프레임워크들은 SQL을 완전히 추상화하려고 시도하며, 객체-관계형 매핑을 선호합니다. 이러한 프레임워크들의 예는 다음과 같습니다:

- Hibernate
- EclipseLink
- TopLink
- JDO
- Ebean
- Torque
- Cayenne

이처럼 수많은 벤더들이 유사한 접근 방식으로 소위 "매핑 문제"를 해결하려고 노력해 왔습니다.

하지만 모든 개발자가 ORM을 원하는 것은 아닙니다. 많은 개발자들은 SQL에 직접 접근하는 것을 선호합니다. Ken Downs가 이전에 언급했듯이, ORM과 다양한 접근 방식에 대한 역사적 관점은 커뮤니티에서 지속적인 논쟁을 반영합니다.

## SQL을 내부 도메인 특화 언어로

SQL은 데이터베이스 질의 및 조작을 위한 도메인 특화 언어입니다. 다양한 플랫폼에서 독점적인 절차적 확장이 SQL을 향상시켜, 명령형 제어 흐름과 선언적 SQL 문 실행을 결합할 수 있게 해줍니다 - 두 패러다임 모두 각자의 영역에서 가치가 있습니다.

이러한 절차적 SQL 언어 확장의 주요 장점은 명령형 제어 흐름과 선언적 SQL 문 실행을 결합할 수 있다는 점입니다. 두 패러다임 모두 각자 적합한 사용 사례에서 가치가 있습니다.

그러나 명령형 프로그래밍만으로는 한계가 있습니다. 객체지향 및 함수형 패러다임(Java나 Scala에서 구현된 것처럼)은 벤더별 절차적 언어가 제공하기 어려운 장점들을 제공합니다. 또한 플랫폼마다 학습 곡선이 상당히 다릅니다.

jOOQ는 SQL을 Java 내의 내부 도메인 특화 언어로 모델링합니다. 이는 효과적으로 Java에 절차적 측면을 추가하는 것과 같습니다. 이 접근 방식은 H2 데이터베이스 트리거를 Java/jOOQ로 작성한 개념 증명(proof of concept)을 통해 이전에 시연된 바 있습니다.

Ronny Guillaume는 PostgreSQL 데이터베이스 내에서 jOOQ를 PL/Java로 사용하는 것에 대한 흥미로운 프랑스어 기사를 작성했습니다. pljava라는 서드파티 도구를 사용하여 jOOQ 코드를 컴파일하고 jar 파일로 래핑한 다음, 일반 SQL이나 트리거에서 사용할 수 있도록 PostgreSQL 데이터베이스에 배포할 수 있습니다.

유사한 구현은 Derby, H2, HSQLDB, Oracle 데이터베이스에서도 가능합니다 - 탐험해 보고 싶은 분들을 위해서요.

PL/Java 환경에서 jOOQ를 활용하는 추가적인 기사들을 발견하면 매우 흥미로울 것입니다!
