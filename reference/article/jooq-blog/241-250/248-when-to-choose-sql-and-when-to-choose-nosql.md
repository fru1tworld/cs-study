> 원문: https://blog.jooq.org/when-to-choose-sql-and-when-to-choose-nosql/

# SQL을 선택할 때와 NoSQL을 선택할 때

작성자: Lukas Eder | 게시일: 2016년 9월 28일

## 모든 문제를 해결하는 망치로서의 RDBMS

관계형 데이터베이스 관리 시스템(RDBMS)이 지배적인 위치를 차지해 온 데는 타당한 이유가 있습니다:

- RDBMS는 수십 년간 존재해 왔으며, 새로운 대안들이 갖추지 못한 성숙한 도구, 커뮤니티 지원, 광범위한 문서를 제공합니다
- E.F. Codd의 관계형 모델(Relational Model)은 "우리 업계 전체에 가장 큰 영향을 미친 단일 요소"로 남아 있으며, 그 이후로 이와 동등하게 혁명적인 대안은 거의 없었습니다

그래프, 계층적 데이터, 문서 등 특수한 문제를 해결하는 전문화된 데이터베이스가 있지만, 이러한 동일한 구조들은 때때로 비효율적이더라도 관계형 모델로 표현될 수 있습니다.

## 현대 RDBMS의 기능

현대의 관계형 데이터베이스는 이제 특수한 데이터 타입을 효과적으로 처리합니다. "대부분의 현대 RDBMS는 PostgreSQL, Oracle, DB2, SQL Server를 포함하여 XML/JSON 데이터 구조를 저장하고 (더 중요하게는) 쿼리하는 수단을 제공합니다."

Neo4j(그래프)나 Couchbase(JSON)와 같은 전문화된 시스템은 매력적인 쿼리 언어를 제공하지만, 운영 비용은 여전히 상당합니다.

## 실제 전환 비용

기술적 고려사항 외에도, 조직은 상당한 숨겨진 비용에 직면합니다:

- 추가적인 라이선스 및 벤더 지원 계약
- 니치 기술에 대한 숙련된 DBA(데이터베이스 관리자) 채용의 어려움
- 별도의 데이터 사일로(Data Silo) 유지 및 동기화 인프라 구축

Uber의 마이그레이션 사례가 이를 잘 보여줍니다: 이 회사는 이전의 결정을 번복하여 PostgreSQL에서 MySQL로 전환했는데, 이는 운영의 일관성이 종종 기술적 이점보다 중요하다는 것을 인식했기 때문입니다.

## 임계값(Threshold) 원칙

RDBMS를 성급하게 포기하기보다, 개발자들은 볼륨과 범위를 고려해야 합니다:

- 가끔 JSON을 저장하는 경우 = RDBMS 사용
- 모든 것이 JSON인 경우 = 아키텍처 재검토 필요

그래프에도 동일하게 적용됩니다. SQL은 재귀 쿼리(Recursive Query)를 통해 순회(Traversal)를 처리합니다. 특수한 데이터 패턴이 비즈니스 로직을 지배할 때만 마이그레이션이 운영 부담을 정당화할 수 있습니다.

## 결론

RDBMS는 대부분의 데이터 문제에 있어 최적의 기본 선택으로 남아 있습니다. "특정 임계값을 넘어선 후에만... 대안을 찾아봐야 합니다." 왜냐하면 그러한 대안들은 자신들의 특정 틈새 영역 밖에서는 어려움을 겪기 때문입니다.
