# jOOQ 화요일: Thomas Muller가 HSQLDB가 인기 있는 H2 데이터베이스로 진화한 과정을 밝히다

> 원문: https://blog.jooq.org/jooq-tuesdays-thomas-muller-unveils-how-hsqldb-evolved-into-the-popular-h2-database/

jOOQ 화요일 시리즈에 오신 것을 환영합니다. 이 시리즈에서는 격월로 세 번째 화요일에 Java, SQL, 오픈 소스 커뮤니티에서 영향력 있는 인물들과의 인터뷰를 소개합니다. 이번 인터뷰에서는 Java에서 가장 인기 있는 임베디드 데이터베이스 중 하나인 H2의 창시자 Thomas Muller와 대화를 나눕니다.

## Thomas Muller 소개

Thomas Muller는 통합 테스트를 위해 개발자들이 널리 채택한 Java의 가장 인기 있는 임베디드 데이터베이스 중 하나인 H2의 창시자입니다. 그는 또한 JackRabbit과 Adobe CRX에 대한 작업을 통해 NoSQL 분야에도 크게 기여했습니다.

## 인터뷰

### 질문: H2 데이터베이스는 사실상 어디에나 있습니다. 많은 Java 개발자들이 가장 선호하는 통합 테스트 데이터베이스가 되었습니다. 어떻게 이렇게 인기를 얻게 되었나요?

사용하기 쉽고, 상대적으로 빠르며, 어느 정도까지는 인기 있는 데이터베이스들과 호환되기 때문이라고 생각합니다.

### 질문: HSQLDB(이전에는 Hypersonic SQL로도 알려짐)와 개인적인 역사를 공유하고 계신 것으로 알고 있습니다. H2는 어떻게, 왜 HSQLDB에서 발전하게 되었나요?

1998년에 저는 Java를 배우기 위한 학습 연습으로 스킵 리스트 알고리즘을 구현했고, 그 위에 SQL 인터페이스를 추가했습니다. 이것을 "Hypersonic SQL"이라는 이름으로 오픈 소스로 공개했습니다.

2000년에 PointBase Inc.에 입사한 후, 회사에서 오픈 소스 작업을 중단해 달라고 요청했습니다. 저는 다른 사람들이 계속하는 것을 막을 수는 없다고 설명했고, 그래서 물러났습니다. Fred Toussi가 코드를 가져다가 HSQLDB를 시작했습니다.

2005년 즈음에 PointBase가 자금이 바닥나서 저는 HSQLDB로 돌아가고 싶었습니다. 하지만 더 급진적인 변경이 필요하다고 느꼈고, 기존 프로젝트를 수정하는 것보다 새 프로젝트를 시작하는 것이 더 낫겠다고 생각했습니다. 그것이 바로 H2였습니다.

### 질문: 언제 JDK에서 Derby / JavaDB를 대체하실 건가요?

절대 안 했으면 좋겠습니다! H2가 JDK에 통합되면 Oracle이 H2의 미래에 제약을 가할 것입니다. 저는 그것을 원하지 않습니다. H2를 독립적으로 유지하고 싶습니다.

### 질문: 가장 흥미로운 일화가 있다면 말씀해 주세요.

Oracle이 MySQL을 인수했을 때, 유럽연합이 합병이 경쟁에 미치는 영향에 대해 제 견해를 묻는 상세한 설문지를 보내왔습니다. H2의 시장 위치가 상대적으로 작고 스위스가 EU 회원국이 아님에도 불구하고, 이 연락은 더 작은 데이터베이스 프로젝트들도 규제 기관의 관심을 받는다는 것을 보여주었습니다. 제 주소가 공개적으로 나와 있지 않았기 때문에 어떻게 저를 찾았는지도 궁금했습니다.

### 질문: H2와 같은 SQL 데이터베이스와 JackRabbit과 같은 NoSQL 데이터베이스를 비교해 주세요.

H2와 Jackrabbit은 상당히 다릅니다. H2는 SQL과 JDBC를 사용하는 관계형 데이터베이스입니다. Jackrabbit은 계층적 데이터베이스로, 파일 시스템과 데이터베이스의 특성을 결합합니다. SQL 대신 일반적으로 XPath 쿼리를 사용합니다.

계층적 모델은 반구조화된 데이터와 JSON 스타일의 정보를 더 잘 수용하는 반면, 관계형 모델은 확립된 프레임워크 내에서 성숙도와 강력한 경쟁을 제공합니다.

### 질문: JVM이 저수준 스토리지 구현에 적합한가요?

네! Java의 진정한 장점은 프로그래머가 알고리즘에 집중할 수 있고, 메모리 관리와 저수준 작업에 많은 시간을 들일 필요가 없다는 것입니다.

데이터베이스에서 성능이 필요한 곳은 주로 I/O 영역입니다. 성능을 개선하려면 I/O를 줄여야 합니다. 이를 위해 더 나은 데이터 구조와 알고리즘을 사용해야 합니다. 동시성과 캐시 효율성도 중요합니다. 이러한 최적화는 사용되는 언어와 상관없이 중요합니다.

물론 압축, 암호화, 해싱과 같은 CPU 집약적인 작업들이 있습니다. 하지만 이러한 것들도 Java에서 효율적으로 구현할 수 있습니다. 알고리즘 효율성과 I/O 감소가 언어 선택보다 더 중요합니다.

### 질문: 현재 어떤 문제들을 다루고 계신가요?

저는 SSD와 새로운 파일 시스템에 대해 H2를 최적화하는 데 집중하고 있습니다. 거의 모든 관계형 데이터베이스가 여전히 회전 디스크에 최적화된 알고리즘을 사용합니다. 이러한 알고리즘은 SSD와 Btrfs와 같은 새로운 파일 시스템에서는 비효율적입니다.

버전 1.4.x에서는 새로운 스토리지 서브시스템인 MVStore를 도입했습니다. 아직 프로덕션 준비 상태를 위한 추가 개선이 필요하지만, 진전을 이루고 있습니다.

데이터베이스 작업 외에도 H2의 프로젝트 디렉토리 내에서 오픈 소스 도구들을 개발합니다. 제 ArchiveTool은 효율적인 아카이브를 위해 중복 제거와 압축을 결합합니다. 최소 완전 해시 테이블에 대한 연구로 이전에 알려진 접근 방식보다 더 적은 공간을 사용하는 알고리즘을 만들어냈습니다. 이에 대해 학술 논문으로 발표할 계획입니다.
