# TiDB 2.1.7

날짜: 2019-06-11

Jepsen은 PingCAP과 함께 TiDB 2.1.7부터 3.0.0-rc.2 버전까지 테스트를 수행했습니다.

## 발견된 문제

테스트 결과에 따르면, 기본 설정에서 TiDB는 "스냅샷 격리를 위반하여 읽기 왜곡(read skew), 손실된 업데이트(lost updates), 그리고 호환되지 않는 순서(incompatible orders)를 허용"했습니다.

문제의 원인은 두 개의 별도 자동 재시도 메커니즘이 충돌하는 쓰기를 무분별하게 다시 적용했기 때문입니다.

## 해결 현황

버전 3.0.0-rc.2에서는 기본 설정을 변경하여 스냅샷 격리를 기본으로 제공하도록 개선했으며, 테이블 생성 시 발생하던 경합 조건과 시작 시 발생하던 일부 충돌 현상도 수정했습니다.
