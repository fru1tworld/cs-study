# Jepsen 분석: Capela dda5892

## 개요
Jepsen은 아직 출시되지 않은 분산 프로그래밍 환경인 Capela에 대해 종합적인 테스트를 수행했습니다. 2025년 4-5월 동안 연구원들은 여러 범주에 걸쳐 중요한 문제들을 식별했습니다.

## 주요 발견사항

### 언어 문제 (총 4개)
- 초기 버전에서 "Capela의 for 루프가 본문을 평가하는 데 조용히 실패"
- Match 표현식이 정보가 없는 오류 메시지 트리거
- 구조 분해 작업이 `builtins.Effect`와 같은 내부 구조를 노출
- 변수 할당이 Python 의미론과 다르게 작동하여 예측 불가능한 지연 평가 생성

### 안정성 문제 (14개 충돌/패닉)
문제에는 누락된 환경 구조, 복제 지연 충돌, 여러 모듈의 이중 대여 오류, 메모리 손상, B-트리 불변 위반, 파일 처리 실패가 포함되었습니다. 대부분은 결함 주입 없이 건강한 클러스터에서 발생했습니다.

### 성능 저하 (#19)
"약 20-100초 작동 후 건강한 클러스터가 일반적으로 저하된 상태로 전환되었습니다." 처리량이 초당 50개에서 0.2개 트랜잭션으로 떨어졌고, 지연 시간이 5초를 초과했습니다.

### 안전성 문제 (3개 중요)
- 새로 생성된 파티션이 제공된 초기 필드 값을 무시
- "건강한 클러스터에서 파티션이 생성 후 산발적으로 사라짐"
- 트랜잭션 히스토리 전반에서 업데이트 원자성을 위반하는 손실된 업데이트 관찰

## 해결 현황
보고서 발행 전에 2개 문제만 해결되었습니다. 나머지 21개 문제는 Capela 팀에서 조사 중입니다.

## 테스트 방법론
연구원들은 네트워크 분할, 클럭 조작, 데이터 손상을 포함한 제어된 결함 주입과 함께 3-5개 노드 클러스터 전체에서 다섯 가지 워크로드 유형(쓰기-읽기 레지스터, 목록 추가, 파티션 세트, 임시 쿼리, 생성적 Python)을 사용했습니다.
