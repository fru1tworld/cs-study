# Redis-Raft 1b3fbf6 Jepsen 분석

## 개요
Jepsen이 Redis-Raft의 개발 버전을 검증한 결과, 21개의 문제를 발견했습니다. 초기 버전은 "본질적으로 사용 불가능"했으나, 최신 버전(e0123a9)에서는 하나를 제외한 모든 문제가 해결되었습니다.

## 주요 발견사항

### 심각한 문제들
- "무한 루프로 빠지거나" 또는 "장애 조치 시 모든 데이터 손실" (팔로워 프록시 설정에 따라)
- 분할-뇌(split-brain) 상황에서 업데이트 손실
- 정상 운영 중 부실한 읽기(stale reads)
- 8건의 충돌 발생

### 구체적 예시
- 무한 루프: 재진입 검사 누락으로 인해 쓰기 작업이 반복 처리
- 데이터 손실: 팔로워가 명령을 RAFT 명령으로 변환 후 거부
- 이상한 응답: 클라이언트가 다른 클라이언트 응답을 수신

## 테스트 방법
"Elle"이라는 일관성 검사기를 사용했으며, "읽기와 추가 작업"을 통해 엄격한 직렬화 가능성(strict serializability)을 검증했습니다.

## 결론
Redis-Raft는 아직 미출시 개발 단계이며, 버전 e0123a9에서 거의 모든 문제가 해결되었습니다. Redis Labs는 2021년 일반 공급을 목표로 개발을 계속 진행 중입니다.
