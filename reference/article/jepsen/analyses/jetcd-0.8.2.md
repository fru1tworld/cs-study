# jetcd 0.8.2 Jepsen 분석

## 보고서 개요
Jepsen의 Kyle Kingsbury가 2024년 8월 8일 발표한 이 분석은 etcd의 공식 Java 클라이언트 라이브러리인 jetcd의 심각한 결함을 다룹니다.

## 핵심 문제
jetcd는 "부적절한 재시도 메커니즘을 포함하고 있어 트랜잭션이 여러 번 실행되거나 실패로 나타나면서 실제로 성공할 수 있게 한다"고 보고합니다.

## 발견된 세 가지 주요 이상

### 1. 손실된 업데이트 (Lost Update)
단일 Txn.commit() 호출이 네트워크를 통해 여러 요청을 전송하여 동일한 데이터를 중복 기록했습니다. 이는 다른 트랜잭션이 서로의 변경을 관찰하지 못해 업데이트가 손실되는 결과를 낳습니다.

### 2. 순환 정보 흐름 (Circular Information Flow)
클라이언트가 트랜잭션을 반복 제출하면서 각 트랜잭션이 다른 트랜잭션의 미래 효과를 읽는 인과적 순환이 발생했습니다.

### 3. 중단된 읽기 (Aborted Reads)
실패로 반환된 트랜잭션의 쓰기가 실제로는 성공했으며, 이후 트랜잭션에서 관찰 가능했습니다.

## 영향 범위
jetcd 0.6.0(2021년 12월)부터 0.8.2(2024년 5월)까지 영향을 받습니다. 이 문제는 "2년 반 동안 미해결 상태"였습니다.

## 권장사항
보고서는 클라이언트를 `ClientBuilder.retryMaxAttempts(0)`으로 구성하여 재시도 메커니즘을 비활성화할 것을 권장합니다.
