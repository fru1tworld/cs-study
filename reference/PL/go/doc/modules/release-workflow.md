# 모듈 릴리스 및 버전 관리 워크플로

## 개요

다른 개발자가 사용할 모듈을 개발할 때, 모듈을 사용하는 개발자에게 신뢰할 수 있고 일관된 경험을 보장하는 워크플로를 따를 수 있습니다.

**관련 주제:**
- [모듈 개발 및 게시](developing)
- [의존성 관리](/doc/modules/managing-dependencies)
- [모듈 버전 번호 매기기](/doc/modules/version-numbers)

---

## 일반적인 워크플로 단계

다음 순서는 예제 새 모듈에 대한 릴리스 및 버전 관리 워크플로 단계를 보여줍니다:

1. **모듈을 시작**하고 개발자가 사용하기 쉽고 유지 관리하기 쉽도록 소스를 구성합니다.
   - [튜토리얼: Go 모듈 만들기](/doc/tutorial/create-module) 참조
   - [모듈 소스 관리](/doc/modules/managing-source) 참조

2. 게시되지 않은 모듈의 함수를 호출하는 **로컬 클라이언트 코드를 작성**합니다.
   - 게시하기 전에 로컬 디렉터리에서 모듈 코드를 테스트
   - [게시되지 않은 모듈에 대한 코딩](#게시되지-않은-모듈에-대한-코딩) 참조

3. 알파 및 베타와 같은 **v0 프리릴리스 게시를 시작**합니다.
   - [프리릴리스 버전 게시](#프리릴리스-버전-게시) 참조

4. 안정성이 보장되지 않는 **v0을 릴리스**합니다.
   - [첫 번째(불안정) 버전 게시](#첫-번째불안정-버전-게시) 참조

5. **v0의 새 버전을 릴리스**합니다.
   - 버그 수정(패치 릴리스)
   - 공개 API 추가(마이너 릴리스)
   - v0에서는 호환성을 깨는 변경 허용
   - [버그 수정 게시](#버그-수정-게시) 및 [호환성을 깨지 않는 API 변경 게시](#호환성을-깨지-않는-api-변경-게시) 참조

6. 안정 버전을 위한 **알파 및 베타로 프리릴리스를 게시**합니다.
   - [프리릴리스 버전 게시](#프리릴리스-버전-게시) 참조

7. 첫 번째 안정 릴리스로 **v1을 릴리스**합니다.
   - [첫 번째 안정 버전 게시](#첫-번째-안정-버전-게시) 참조

8. **v1에서 버그를 계속 수정하고 모듈의 공개 API에 추가**합니다.
   - [버그 수정 게시](#버그-수정-게시) 및 [호환성을 깨지 않는 API 변경 게시](#호환성을-깨지-않는-api-변경-게시) 참조

9. **새 메이저 버전에서 호환성을 깨는 변경을 게시**합니다.
   - [호환성을 깨는 API 변경 게시](#호환성을-깨는-api-변경-게시) 참조

---

## 게시되지 않은 모듈에 대한 코딩

모듈이나 모듈의 새 버전을 개발하기 시작할 때는 아직 게시되지 않은 상태입니다. 게시 전에는 Go 명령을 사용하여 모듈을 의존성으로 추가할 수 없습니다.

**해결책:** 클라이언트 모듈의 go.mod 파일에서 `replace` 지시문을 사용하여 로컬에서 모듈을 참조합니다.

자세한 내용은 [로컬 디렉터리의 모듈 코드 요청](managing-dependencies#local_directory)을 참조하세요.

---

## 프리릴리스 버전 게시

다른 사람들이 시험해보고 피드백을 줄 수 있도록 프리릴리스 버전을 게시할 수 있습니다. 프리릴리스 버전에는 안정성 보장이 포함되지 않습니다.

**프리릴리스 버전 형식:** 버전 번호에 프리릴리스 식별자가 추가됩니다.

예시:
```
v0.2.1-beta.1
v1.2.3-alpha
```

**중요:** `go` 명령이 기본적으로 릴리스 버전을 선호하므로 프리릴리스를 사용하는 개발자는 `go get` 명령으로 버전을 명시적으로 지정해야 합니다.

예시:
```bash
go get example.com/theirmodule@v1.2.3-alpha
```

**게시:** 저장소에서 모듈 코드를 태그하고 태그에 프리릴리스 식별자를 지정합니다. [모듈 게시](publishing)를 참조하세요.

---

## 첫 번째(불안정) 버전 게시

불안정 릴리스는 **v0.x.x** 범위의 버전 번호를 가집니다. v0 버전은 안정성이나 하위 호환성을 보장하지 않지만 v1으로 안정성 약속을 하기 전에 피드백을 받고 API를 다듬을 수 있는 방법을 제공합니다.

변경할 때마다 v0 버전 번호의 마이너 및 패치 부분을 증가시킬 수 있습니다. 예를 들어:
- v0.0.0을 릴리스한 후 버그 수정으로 v0.0.1을 릴리스할 수 있습니다

예시 버전 번호:
```
v0.1.3
```

**게시:** 저장소에서 모듈 코드를 태그하고 태그에 v0 버전 번호를 지정합니다. [모듈 게시](publishing)를 참조하세요.

---

## 첫 번째 안정 버전 게시

첫 번째 안정 릴리스는 **v1.x.x** 버전 번호를 가집니다.

**v1 릴리스로 다음을 약속하게 됩니다:**

- 개발자가 자신의 코드를 깨지 않고 메이저 버전의 후속 마이너 및 패치 릴리스로 업그레이드할 수 있음
- 하위 호환성을 깨는 모듈의 공개 API(함수 및 메서드 시그니처) 변경을 더 이상 하지 않음
- 하위 호환성을 깨는 내보낸 타입을 제거하지 않음
- API에 대한 향후 변경(예: 구조체에 새 필드 추가)은 하위 호환되며 새 마이너 릴리스에 포함됨
- 버그 수정(예: 보안 수정)은 패치 릴리스 또는 마이너 릴리스의 일부로 포함됨

**참고:** 첫 번째 메이저 버전이 v0 릴리스일 수 있지만, v0 버전은 안정성이나 하위 호환성 보장을 알리지 않습니다. 결과적으로 v0에서 v1로 증가할 때 v0 릴리스가 안정적으로 간주되지 않았으므로 하위 호환성을 깨는 것에 신경 쓸 필요가 없습니다.

예시 안정 버전 번호:
```
v1.0.0
```

**게시:** 저장소에서 모듈 코드를 태그하고 태그에 v1 버전 번호를 지정합니다. [모듈 게시](publishing)를 참조하세요.

---

## 버그 수정 게시

버그 수정으로만 제한된 릴리스를 게시할 수 있습니다. 이를 **패치 릴리스**라고 합니다.

**특징:**
- 사소한 변경만 포함
- 모듈의 공개 API에 변경 없음
- 개발자가 코드를 변경하지 않고 안전하게 업그레이드 가능
- 전이적 의존성을 패치 릴리스 이상으로 업그레이드하지 않아야 함

**버전 증가:** 모듈 버전 번호의 패치 부분을 증가시킵니다.

예시:
```
이전 버전: v1.0.0
새 버전: v1.0.1
```

**게시:** 저장소에서 모듈 코드를 태그하고 태그의 패치 버전 번호를 증가시킵니다. [모듈 게시](publishing)를 참조하세요.

---

## 호환성을 깨지 않는 API 변경 게시

모듈의 공개 API를 호환성을 깨지 않는 방식으로 변경하고 **마이너 버전 릴리스**로 게시할 수 있습니다.

**특징:**
- API를 변경하지만 호출 코드를 깨지 않는 방식으로
- 모듈 의존성 변경을 포함할 수 있음
- 새로운 함수, 메서드, 구조체 필드 또는 타입 추가
- 기존 코드에 대한 하위 호환성과 안정성 보장

**버전 증가:** 모듈 버전 번호의 마이너 부분을 증가시킵니다.

예시:
```
이전 버전: v1.0.1
새 버전: v1.1.0
```

**게시:** 저장소에서 모듈 코드를 태그하고 태그의 마이너 버전 번호를 증가시킵니다. [모듈 게시](publishing)를 참조하세요.

---

## 호환성을 깨는 API 변경 게시

**메이저 버전 릴리스**를 게시하여 하위 호환성을 깨는 버전을 게시할 수 있습니다.

**특징:**
- 하위 호환성을 보장하지 않음
- 이전 버전을 사용하는 코드를 깨는 모듈의 공개 API 변경 포함
- 모듈에 의존하는 코드에 파괴적인 영향으로 인해 최후의 수단이어야 함

호환성을 깨는 변경을 피하는 전략에 대해서는 [모듈 호환성 유지](/blog/module-compatibility)를 참조하세요.

### 메이저 버전 업데이트 게시 단계:

1. **새 버전의 소스를 위한 장소를 만듭니다**
   - 저장소에 새 메이저 버전과 후속 마이너 및 패치 버전을 위한 새 브랜치를 만듭니다
   - [모듈 소스 관리](/doc/modules/managing-source) 참조

2. **go.mod에서 모듈 경로를 수정합니다**
   - 모듈 경로에 새 메이저 버전 번호를 추가합니다

   예시:
   ```
   example.com/mymodule/v2
   ```

   이 변경은 효과적으로 새 모듈을 만들고 패키지 경로를 변경하여 개발자가 실수로 호환성을 깨는 버전을 임포트하지 않도록 합니다. 업그레이드하려는 사람들은 이전 경로를 새 경로로 명시적으로 대체합니다.

3. **코드에서 패키지 경로를 업데이트합니다**
   - 업데이트하는 모듈에서 패키지를 임포트하는 모든 패키지 경로를 변경합니다
   - 모듈 경로를 변경했기 때문에 필요합니다

4. **프리릴리스 버전을 게시합니다**
   - 새 릴리스와 마찬가지로 공식 릴리스 전에 피드백과 버그 리포트를 받기 위해 프리릴리스 버전을 게시합니다

5. **새 메이저 버전을 게시합니다**
   - 저장소에서 모듈 코드를 태그하고 태그의 메이저 버전 번호를 증가시킵니다
   - 예시: v1.5.2에서 v2.0.0으로
   - [모듈 게시](/doc/modules/publishing) 참조

---

이 문서는 Go에서 모듈 릴리스 및 버전 관리를 위한 포괄적인 가이드를 제공하며, 개발부터 안정 릴리스 및 메이저 버전 업데이트까지의 전체 수명 주기를 다룹니다.
