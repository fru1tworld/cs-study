RFC 768                                                        J. Postel
                                                                     ISI
                                                          1980년 8월 28일



                       사용자 데이터그램 프로토콜
                       ----------------------

## 소개

이 사용자 데이터그램 프로토콜(UDP)은 상호 연결된 컴퓨터 네트워크 집합의 환경에서 패킷 교환 컴퓨터 통신의 데이터그램 모드를 사용할 수 있도록 정의되었다. 이 프로토콜은 인터넷 프로토콜(IP) [1]이 기반 프로토콜로 사용된다고 가정한다.

이 프로토콜은 애플리케이션 프로그램이 최소한의 프로토콜 메커니즘으로 다른 프로그램에 메시지를 보낼 수 있는 절차를 제공한다. 이 프로토콜은 트랜잭션 지향적이며, 전달 및 중복 보호가 보장되지 않는다. 순서가 보장된 신뢰성 있는 데이터 스트림 전달이 필요한 애플리케이션은 전송 제어 프로토콜(TCP) [2]을 사용해야 한다.

## 형식

```
                  0      7 8     15 16    23 24    31
                 +--------+--------+--------+--------+
                 |     Source      |   Destination   |
                 |      Port       |      Port       |
                 +--------+--------+--------+--------+
                 |                 |                 |
                 |     Length      |    Checksum     |
                 +--------+--------+--------+--------+
                 |
                 |          data octets ...
                 +---------------- ...

                      User Datagram Header Format
```

## 필드

Source Port는 선택적 필드로, 의미가 있는 경우 송신 프로세스의 포트를 나타내며, 다른 정보가 없을 때 응답이 보내져야 할 포트로 간주될 수 있다. 사용되지 않는 경우, 0의 값이 삽입된다.

Destination Port는 특정 인터넷 목적지 주소의 컨텍스트 내에서 의미를 갖는다.

Length는 이 사용자 데이터그램의 헤더와 데이터를 포함한 옥텟 단위의 길이이다. (이는 길이의 최소값이 8임을 의미한다.)

Checksum은 IP 헤더로부터의 정보를 담은 의사 헤더, UDP 헤더, 그리고 데이터의 1의 보수 합에 대한 16비트 1의 보수이며, (필요한 경우) 2 옥텟의 배수를 만들기 위해 끝에 0 옥텟으로 패딩된다.

UDP 헤더 앞에 개념적으로 붙는 의사 헤더는 발신 주소, 목적지 주소, 프로토콜, 그리고 UDP 길이를 포함한다. 이 정보는 잘못 라우팅된 데이터그램에 대한 보호를 제공한다. 이 체크섬 절차는 TCP에서 사용되는 것과 동일하다.

```
                  0      7 8     15 16    23 24    31
                 +--------+--------+--------+--------+
                 |          source address           |
                 +--------+--------+--------+--------+
                 |        destination address        |
                 +--------+--------+--------+--------+
                 |  zero  |protocol|   UDP length    |
                 +--------+--------+--------+--------+
```

계산된 체크섬이 0이면, 모든 비트가 1인 값으로 전송된다 (1의 보수 연산에서 동등한 값). 전송된 체크섬 값이 모든 비트가 0이면, 송신자가 체크섬을 생성하지 않았음을 의미한다 (디버깅 목적이거나 체크섬을 신경 쓰지 않는 상위 레벨 프로토콜을 위해).

## 사용자 인터페이스

사용자 인터페이스는 다음을 허용해야 한다:

  새로운 수신 포트의 생성,

  수신 포트에서의 수신 작업으로, 데이터 옥텟과 발신 포트 및 발신 주소의 표시를 반환하는 것,

  그리고 데이터그램을 보낼 수 있는 작업으로, 보내야 할 데이터, 발신 및 목적지 포트와 주소를 지정하는 것.

## IP 인터페이스

UDP 모듈은 인터넷 헤더에서 발신 및 목적지 인터넷 주소와 프로토콜 필드를 결정할 수 있어야 한다. 가능한 하나의 UDP/IP 인터페이스는 수신 작업에 대한 응답으로 모든 인터넷 헤더를 포함한 전체 인터넷 데이터그램을 반환하는 것이다. 그러한 인터페이스는 또한 UDP가 헤더가 완비된 전체 인터넷 데이터그램을 IP에 전달하여 보낼 수 있게 할 것이다. IP는 일관성을 위해 특정 필드를 검증하고 인터넷 헤더 체크섬을 계산할 것이다.

## 프로토콜 적용

이 프로토콜의 주요 용도는 인터넷 네임 서버 [3]와 간이 파일 전송 [4]이다.

## 프로토콜 번호

인터넷 프로토콜에서 사용될 때 이것은 프로토콜 17 (8진수 21)이다. 다른 프로토콜 번호는 [5]에 나열되어 있다.

## 참고 문헌

[1]     Postel,   J.,   "Internet  Protocol,"  RFC 760,  USC/Information
        Sciences Institute, January 1980.

[2]     Postel,    J.,   "Transmission   Control   Protocol,"   RFC 761,
        USC/Information Sciences Institute, January 1980.

[3]     Postel,  J.,  "Internet  Name Server,"  USC/Information Sciences
        Institute, IEN 116, August 1979.

[4]     Sollins,  K.,  "The TFTP Protocol,"  Massachusetts  Institute of
        Technology, IEN 133, January 1980.

[5]     Postel,   J.,   "Assigned   Numbers,"  USC/Information  Sciences
        Institute, RFC 762, January 1980.
