
Network Working Group                                         Y. Rekhter
Request for Comments: 1918                                 Cisco Systems
Obsoletes: 1627, 1597                                       B. Moskowitz
BCP: 5                                                    Chrysler Corp.
Category: Best Current Practice                            D. Karrenberg
                                                                RIPE NCC
                                                          G. J. de Groot
                                                                RIPE NCC
                                                                 E. Lear
                                                  Silicon Graphics, Inc.
                                                           February 1996


                 사설 인터넷을 위한 주소 할당
                 (Address Allocation for Private Internets)

이 메모의 상태

   이 문서는 인터넷 커뮤니티를 위한 인터넷 최선 현행 관례(Best Current
   Practices)를 명시하며, 개선을 위한 논의와 제안을 요청합니다.
   이 메모의 배포에는 제한이 없습니다.

1. 소개

   역사적 배경을 위해, 이 문서에서 "기업(enterprise)"이란 TCP/IP를 사용하여
   네트워크를 자율적으로 운영하고 해당 네트워크 내 주소 체계 및 주소 할당을
   자율적으로 결정하는 주체를 의미한다.

   이 문서는 사설 인터넷에서의 주소 할당에 대해 기술한다. 이 할당은 기업
   내부 호스트 간의 완전한 네트워크 계층 연결성과, 서로 다른 기업의 모든
   공개 호스트 간의 완전한 네트워크 계층 연결성을 허용한다. 이는 기업
   내부의 사설 호스트와 다른 기업의 호스트 간에는 네트워크 계층 연결성이
   없다는 것을 의미한다. 이 제약 조건에 해당하지 않는 사설 호스트와 외부
   호스트 간 연결은 중재 게이트웨이(예: 응용 계층 게이트웨이)를 사용하여
   이루어질 수 있다.

   사설 인터넷 주소 공간을 사용하는 비용은 사설과 공개 간 호스트 및
   네트워크의 재번호 부여에 잠재적으로 큰 비용이 드는 노력이 필요하다는
   것이다.

2. 동기

   TCP/IP 기술이 전 세계적으로 확산됨에 따라, 이 기술을 기업 간 통신이
   아닌 기업 내 통신에 사용하는 조직의 수가 급격히 증가하고 있다. 이러한
   기업 중 상당수는 다른 기업이나 인터넷에 연결할 의도가 없지만, 기업
   내부에서 TCP/IP(종종 인터넷의 축소판)를 사용한다.

   대형 기업의 호스트 수는 매우 클 수 있다. 이렇게 급속히 늘어나는 호스트
   수의 증가는 전역적으로 고유한 주소 공간이 고갈될 수 있다는 우려를
   야기했다.

   IPv4 주소 고갈에 대한 우려가 불안을 야기하는 반면, 보다 긴급한 우려는
   라우팅 오버헤드가 인터넷 서비스 제공업체의 능력을 초과하여 증가할 것이라는
   것이다. 일반적으로 서비스 제공업체는 라우팅 오버헤드가 증가하면서 주소
   할당 및 네트워크 접속 서비스에 대한 요구사항을 지속적으로 갱신하고 있다.

   라우팅 확장성을 유지하기 위해, 인터넷 서비스 제공업체는 인터넷 레지스트리
   중 하나로부터 주소 블록을 획득하고 고객에게 해당 블록의 일부에서 주소를
   할당한다. 이 할당의 결과로, 서비스 제공업체는 경로 집성(route
   aggregation)을 수행할 수 있고, 글로벌 라우팅 시스템에 해당 고객에 대한
   소수의 집성된 경로만 광고하면 된다. 기존 네트워크에 합류하는 기업에게는
   제공업체의 주소 블록 일부를 사용하도록 권장되거나 요구될 수 있으며, 이에
   따라 재번호 부여가 필요할 수 있다.

   이러한 관행의 결과로, 전역적으로 고유한 IP 주소를 획득함으로써 해당
   조직이 전역적으로 고유한 IP 주소로 다른 조직과 인터넷 전역 IP 연결성을
   가질 수 있다고 가정하는 것은 더 이상 현실적이지 않다. 전역적으로 고유한
   주소를 가진 기업이 새로운 인터넷 제공업체로 전환할 때, 주소 공간이
   새로운 제공업체의 주소 블록에 속하지 않으면 재번호 부여가 필요할 수
   있다.

   역사적으로, 전역적으로 고유한 주소는 TCP/IP를 사용하는 모든 호스트에
   할당되었다. IPv4 주소 공간의 수명을 연장하기 위해, 주소 레지스트리는
   추가 주소 공간을 정당화하기 위한 더 엄격한 기준을 요구하고 있으며,
   결과적으로 주소 획득이 더 어려워졌다.

   기업의 호스트를 인터넷 연결 요구사항에 따라 분류하면, 호스트의 여러
   범주를 구별할 수 있다.

   - 범주 1: 다른 기업 또는 인터넷의 호스트에 대한 네트워크 계층 접근이
             필요하지 않은 호스트. 이러한 호스트가 네트워크 내에서 사용하는
             IP 주소는 기업 내에서 고유하지만 기업 간에는 모호할 수 있다.

   - 범주 2: 소수의 외부 서비스(예: 이메일, FTP, netnews, 원격 로그인)에
             대한 접근이 필요하며, 이러한 서비스가 중재 게이트웨이(예: 응용
             계층 게이트웨이)에 의해 처리될 수 있는 호스트. 이 경우 많은
             호스트에 대해 무제한적인 외부 접근이 불필요할 수 있다(보안상의
             이유로 해서 보안 고려사항에 의해 바람직하지 않을 수도 있다). 일부
             범주 2 호스트처럼 외부 접근이 불필요한 호스트의 경우, IP 주소는
             기업 내에서 고유하지만 기업 간에는 모호할 수 있다.

   - 범주 3: 기업 외부의 모든 호스트에 대한 네트워크 계층 접근이 필요한
             호스트. 이 범주의 호스트에 대한 IP 주소는 전역적으로 고유해야
             한다.

   우리는 범주 1과 범주 2의 호스트를 "사설"이라 하고, 범주 3의 호스트를
   "공개"라 한다.

   많은 응용 프로그램은 하나의 기업 내 호스트 간 연결만을 필요로 하며,
   외부 호스트(다른 기업이나 인터넷)에 대한 연결은 필요하지 않다. 대규모
   기업에서는 외부와의 네트워크 계층 연결이 필요하지 않은 상당수의 호스트를
   파악하는 것이 종종 가능하다.

   외부 연결이 필요하지 않을 수 있는 큰 인프라의 일부 예시는 다음과 같다:

      - 개별적으로 주소 지정 가능한 도착/출발 안내 표시기(비디오 모니터)를
        갖춘 대형 공항 - 이러한 표시기가 다른 네트워크에서 직접 접근 가능할
        필요는 거의 없다.

      - 내부적으로 TCP/IP를 사용하는 대형 은행 및 소매 체인 - 금전 등록기와
        같은 워크스테이션이 이러한 연결성을 가질 필요는 거의 없다.

      - 보안 목적으로 내부 네트워크를 외부 네트워크에서 분리하기 위해 응용
        계층 게이트웨이(예: 방화벽)를 배치한 기업 네트워크. 이 경우 내부
        네트워크는 일반적으로 인터넷에 직접 접근할 필요가 없다. 내부
        네트워크는 공개적으로 고유한 IP 네트워크 번호가 필요하지 않다.
        외부에서 직접 볼 수 있는 호스트는 응용 계층 게이트웨이뿐이며, 이것만
        전역적으로 고유한 IP 주소를 가지면 된다. 나머지 내부 네트워크는
        고유하지 않은 IP 네트워크 번호를 사용할 수 있다.

      - 내부 네트워크의 라우터 인터페이스. 이는 일반적으로 기업 외부에서
        직접 접근 가능할 필요가 없다.

3. 사설 주소 공간

   Internet Assigned Numbers Authority(IANA)는 사설 인터넷을 위해 다음
   세 개의 IP 주소 블록을 예약했다:

     10.0.0.0        -   10.255.255.255  (10/8 prefix)
     172.16.0.0      -   172.31.255.255  (172.16/12 prefix)
     192.168.0.0     -   192.168.255.255 (192.168/16 prefix)

   우리는 첫 번째 블록을 "24비트 블록", 두 번째를 "20비트 블록", 세 번째를
   "16비트 블록"이라 한다. 첫 번째 블록은 단일 Class A 네트워크 번호이고,
   두 번째 블록은 16개의 연속된 Class B 네트워크 번호의 집합이며, 세 번째
   블록은 256개의 연속된 Class C 네트워크 번호의 집합임을 주목하라.

   이 문서에서 정의된 주소 공간에서 IP 주소를 사용하기로 결정한 기업은
   IANA나 인터넷 레지스트리와의 어떠한 조정 없이도 그렇게 할 수 있다. 이
   주소 공간은 많은 기업에 의해 동시에 사용될 수 있다. 이 사설 공간의
   주소는 해당 기업 내에서, 또는 이 주소 공간을 사적으로 사용하기 위해
   상호 동의하여 협력하는 기업 집합 사이에서만 고유하다.

   전역적으로 고유한 주소 공간이 필요한 기업의 경우, 인터넷 레지스트리에서
   해당 주소를 획득해야 한다. 외부 연결을 위해 주소를 요청하는 기업은
   결코 위에서 설명한 주소에서 할당받지 않을 것이다.

   기업이 사설 주소 공간을 사용하기 위해서는, 기업 외부 호스트와의
   네트워크 계층 연결이 예측 가능한 기간 내에 필요하지 않은 호스트를
   결정해야 한다. 이러한 호스트를 "사설"로 분류하고 이 문서에서 정의된
   사설 주소 공간에서 주소를 할당해야 한다. 사설 호스트는 기업 내의 공개
   및 사설 호스트 모두와 통신할 수 있다. 그러나 기업 외부의 어떤 호스트와도
   IP 연결성을 가질 수 없다. 제한된 연결 집합이 허용될 수 있지만, 중재
   게이트웨이를 사용하여 이루어진다(예: 응용 계층 게이트웨이).

   나머지 모든 호스트는 "공개"로 분류되며, 인터넷 레지스트리에서 할당한
   전역적으로 고유한 주소 공간을 사용해야 한다. 공개 호스트는 기업 내의
   공개 및 사설 호스트 모두와 통신할 수 있으며, 기업 외부의 공개 호스트와
   IP 연결성을 가질 수 있다. 공개 호스트는 다른 기업의 사설 호스트와는
   연결성을 갖지 않는다.

   호스트의 주소를 사설에서 공개로 또는 그 반대로 이동하려면 해당
   호스트의 IP 주소 변경, DNS 항목 수정, 그리고 IP 주소를 통해 호스트를
   참조하는 구성 파일의 변경이 필요하다.

   사설 주소는 기업 내에서만 의미를 가지므로, 사설 네트워크에 대한 라우팅
   정보는 기업 간 링크에서 전파되어서는 안 되며, 사설 출발지 또는 목적지
   주소를 가진 패킷은 그러한 링크를 통해 전달되어서는 안 된다. 사설 주소
   공간을 사용하지 않는 라우터, 특히 인터넷 서비스 제공업체의 라우터는
   사설 네트워크에 대한 라우팅 정보를 (조용히) 거부하도록 구성되어야 한다.
   이러한 정보가 수신되면, 이를 라우팅 프로토콜 오류로 처리해서는 안 된다.

   사설 주소에 대한 간접 참조도 기업 내에 포함되어야 한다. 이의 대표적인
   예로 DNS 리소스 레코드 및 내부 사설 주소를 참조하는 기타 정보가 있다.
   인터넷 서비스 제공업체는 이러한 유출을 방지하기 위한 조치를 취해야 한다.

4. 사설 주소 공간 사용의 장점과 단점

   이 문서에서 설명하는 주소 할당 방법의 분명한 장점은 인터넷 전체에서
   전역적 고유성이 정당화되지 않는 곳에 전역적으로 고유한 주소 공간을
   사용하지 않음으로써 전역적으로 고유한 주소 공간을 보존한다는 것이다.

   기업은 전역적으로 고유한 풀에서 획득 가능한 것보다 더 많은 주소 공간이
   사용 가능해짐으로써 네트워크 설계에 추가적인 유연성을 얻는다. 이는
   운영적으로나 관리적으로 편리한 주소 지정 체계의 구축은 물론 보다
   용이한 성장 경로에도 기여할 수 있다.

   인터넷은 이미 인터넷에 연결되지 않은 기업이 IANA에서 할당하지 않은
   IP 주소 공간을 사용하는 사례를 겪었다; 때때로 이 공간은 다른 기업에
   이미 할당된 것이기도 했다. 이러한 기업이 나중에 인터넷에 연결하기로
   하면, 이러한 기업에서도 인터넷 전체에서도 심각한 문제가 발생할 수
   있다(IP 라우팅은 모호한 주소 지정이 존재할 때 올바른 운영을 제공할
   수 없다). 인터넷 서비스 제공업체가 경로 필터를 통해 이를 방어해야
   하지만, 이것이 항상 이루어지지는 않는다. 사설 주소 공간을 사용하면
   연결 필요성이 발생할 때 전역적으로 고유한 주소 공간과의 충돌 없이
   안전한 선택을 할 수 있다.

   이 문서에서 설명하는 주소 할당 방법에 다소 불분명하지만 중요한 단점이
   있다. 사설 주소 공간을 사용하면 기업이 나중에 인터넷에 접근하는 것이
   실질적으로 더 어려워질 수 있다. 사설 주소를 사용하기로 하면, 기업의
   해당 부분(및 기업에서 이를 사용하는 모든 부분)과 인터넷 간에 IP
   연결성을 제공하기로 결정할 경우 기업의 일부 또는 전체를 재번호 부여하겠다고
   약속하는 것이다. 그러나 주소 할당에 사설 주소 공간을 사용하지 않고
   전역적으로 고유한 주소를 사용하더라도, 인터넷 전역 IP 연결성이 필요할
   경우 일부 기업은 재번호 부여를 해야 할 수 있다.

   불분명하지만 중요한 또 다른 단점은 기업 간 사설 인터넷 병합의 결과로
   발생할 수 있다. 협조되지 않은 사설 인터넷 주소 공간 사용 계획을 가진
   여러 기업이 사적으로 상호 연결하기로 하면, 합병된 네트워크 내에
   고유하지 않은 주소가 있을 가능성이 높다. 재번호 부여가 필요한 것이
   하나의 네트워크(재번호 부여 비용이 적은 쪽)이든 모든 네트워크이든,
   이것이 상당한 비용이 될 수 있음이 명백하다.

   이러한 상황에서 재번호 부여의 비용은 Dynamic Host Configuration
   Protocol(DHCP)과 같은 도구의 배포를 통해 상쇄될 수 있다. 사설
   주소를 선택하기 전에 조직은 주소 재할당을 용이하게 하는 도구의
   가용성에 대해 공급업체에 문의해야 한다. IETF의 PIER 워킹 그룹은
   기존에 사용 중인 인터넷의 재번호 부여에 대한 요구사항과 절차를
   문서화하고 있다.

5. 운영 고려사항

   한 가지 유용한 접근법은 네트워크에서 사설 부분을 먼저 설계하고,
   내부 링크에 사설 주소 공간을 할당한 다음, 외부 연결이 필요한
   곳에 공개 서브넷을 배치하는 것이다.

   이 설계는 영구적인 것이 아님을 강조한다. 나중에 호스트의 상태
   변경이 필요한 경우(사설에서 공개로 또는 그 반대로), 해당 호스트의
   재번호 부여와 물리적 연결 조정으로 충분하다. 이러한 변경이 예측되는
   경우(예: 기계실, 사무 공간 등) 공개 및 사설 서브넷에 대한 별도의
   물리적 매체를 구성하면 이러한 변경이 용이해진다. 유사한 연결 요구사항을
   가진 호스트를 자체 서브넷에 그룹화하면 필요한 변경이 주요 중단의
   원인이 되지 않을 것이다.

   적절한 서브넷팅 체계를 설계할 수 있고 장비가 이를 지원하는 경우, 좋은
   성장 경로를 가진 24비트 블록(즉, 단일 Class A 네트워크 번호)의 사설
   주소 공간을 사용하는 것이 권장된다. 서브넷팅이 문제가 되는 경우,
   16비트 블록(즉, Class C 네트워크 번호) 또는 20비트 블록(즉, Class B
   네트워크 번호)의 사설 주소 공간을 사용하는 것이 적절하다.

   공개 및 사설 주소를 동일한 물리적 매체에 배치하는 것이 기술적으로
   가능하지만, 함정이 있다. 공통 데이터 링크 하부 네트워크에서의 다중
   IP 서브넷으로 인해 발생하는 함정에 주의해야 한다(이러한 함정은 사설
   주소와 관련되지 않는다). 동일한 데이터 링크 하부 네트워크에 공개 및
   사설 주소를 혼합하여 배치하는 것에 대해 주의를 기울이는 것이 적절하다.

   기업을 외부 네트워크에 연결하는 라우터는 링크 양쪽 끝에서 적절한
   패킷 및 라우팅 필터를 구현하여 사설 주소 정보의 유출을 방지해야
   한다. 기업은 또한 인바운드 라우팅 정보에서 사설 네트워크를 필터링하여
   모호한 라우팅 상황으로부터 스스로를 보호해야 한다.

   그들의 사설 주소 공간 사용을 조율한 두 사이트는 자체적으로 두 사이트를
   연결할 수 있지만, 공개 네트워크를 통해서도 통신할 수 있다. 이를
   위해서는 공개 네트워크에 대한 경계에서 캡슐화를 사용할 수 있으며,
   사설 주소는 사설으로 유지된다.

   이 문서에 설명된 주소 할당 체계를 따르는 둘 이상의 조직이 나중에
   IP 연결을 설정하기로 결정하면, 주소 고유성 위반의 위험이 있다.
   이 위험을 최소화하기 위해, 사설 IP 주소를 사용하는 조직은 내부
   할당을 위한 하위 블록을 선택할 때 예약된 풀에서 무작위로 선택해야
   한다.

   기업이 사설 주소 공간을 사용하거나 사설 및 공개 주소 공간의 혼합을
   사용하는 경우, 기업 외부의 DNS 클라이언트는 사설 주소를 볼 수 없어야
   한다. 이러한 주소는 모호하기 때문이다. 이를 수행하는 한 가지 방법은
   공개 및 사설 주소 지정이 된 호스트를 모두 포함하는 각 DNS 존에 대해
   두 개의 권한 있는 DNS 서버를 운영하는 것이다. 공개 주소 공간에서 볼 수
   있는 하나의 서버는 기업의 공개적으로 도달 가능한 호스트의 리소스 레코드만
   포함한다. 다른 서버는 사설 네트워크에서만 접근 가능하며 사설 주소와
   사설 네트워크에서 도달 가능한 공개 주소 모두에 대한 데이터를 포함한다.
   데이터 유지보수의 일관성을 보장하기 위해, 두 서버 모두 동일한 데이터로
   구성되어야 하며, 공개적으로 볼 수 있는 존에는 해당 데이터의 필터링된
   버전이 포함되어야 한다. DNS 관리에 어느 정도의 추가적인 복잡성이
   도입될 수 있다.

6. 보안 고려사항

   보안 문제는 이 메모에서 다루지 않는다.

7. 결론

   이 체계에서 많은 대형 기업은 전역적으로 고유한 IP 주소 공간에서
   비교적 작은 블록만 필요하게 될 것이다. 인터넷 전체는 전역적으로
   고유한 주소 공간의 보존을 통해 이익을 얻으며, 이는 IP 주소 공간의
   수명을 효과적으로 연장할 것이다. 기업은 비교적 큰 사설 주소
   공간으로부터의 유연성 증가를 통해 이익을 얻는다. 그러나 사설 주소
   사용이라는 경로를 선택하면, 연결 요구사항이 변경될 때 기업 네트워크의
   일부 또는 전부를 재번호 부여하기로 약속한 것임을 인식해야 한다.

8. 감사의 말

   저자들은 이 문서를 검토하고 건설적인 의견을 제공해 주신 다음 분들께
   감사드린다: Tony Bates (MCI), Jordan Becker (ANS), Hans-Werner Braun
   (SDSC), Ross Callon (BayNetworks), John Curran (BBN Planet), Vince
   Fuller (BBN Planet), Tony Li (Cisco Systems), Anne Lord (RIPE NCC),
   Milo Medin (NSI), Marten Terpstra (BayNetworks), Geza Turchanyi
   (RIPE NCC), Christophe Wolfhugel (Pasteur Institute), Andy Linton
   (connect.com.au), Brian Carpenter (CERN), Randy Bush (PSG), Erik Fair
   (Apple Computer), Dave Crocker (Brandenburg Consulting), Tom Kessler
   (SGI), Dave Piscitello (Core Competence), Matt Crawford (FNAL),
   Michael Patton (BBN), 그리고 Paul Vixie (Internet Software Consortium).

9. 참고문헌

   [RFC1466] Gerich, E., "Guidelines for Management of IP Address
             Space", RFC 1466, Merit Network, Inc., May 1993.

   [RFC1518] Rekhter, Y., and T. Li, "An Architecture for IP Address
             Allocation with CIDR", RFC 1518, September 1993.

   [RFC1519] Fuller, V., Li, T., Yu, J., and K. Varadhan, "Classless
             Inter-Domain Routing (CIDR): an Address Assignment and
             Aggregation Strategy", RFC 1519, September 1993.

10. 저자 주소

   Yakov Rekhter
   Cisco systems
   170 West Tasman Drive
   San Jose, CA, USA
   Phone: +1 914 528 0090
   Fax: +1 408 526-4952
   EMail: yakov@cisco.com


   Robert G Moskowitz
   Chrysler Corporation
   CIMS: 424-73-00
   25999 Lawrence Ave
   Center Line, MI 48015
   Phone: +1 810 758 8212
   Fax: +1 810 758 8173
   EMail: rgm3@is.chrysler.com


   Daniel Karrenberg
   RIPE Network Coordination Centre
   Kruislaan 409
   1098 SJ Amsterdam, the Netherlands
   Phone: +31 20 592 5065
   Fax: +31 20 592 5090
   EMail: Daniel.Karrenberg@ripe.net


   Geert Jan de Groot
   RIPE Network Coordination Centre
   Kruislaan 409
   1098 SJ Amsterdam, the Netherlands
   Phone: +31 20 592 5065
   Fax: +31 20 592 5090
   EMail: GeertJan.deGroot@ripe.net


   Eliot Lear
   Mail Stop 15-730
   Silicon Graphics, Inc.
   2011 N. Shoreline Blvd.
   Mountain View, CA 94043-1389
   Phone: +1 415 960 1980
   Fax: +1 415 961 9584
   EMail: lear@sgi.com
